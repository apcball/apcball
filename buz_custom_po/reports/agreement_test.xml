<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Define Paper Format -->
    <record id="paperformat_agreement_test" model="report.paperformat">
        <field name="name">Agreement Test A4 </field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">4</field>
        <field name="margin_right">4</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">8</field>
        <field name="dpi">90</field>
    </record>

    <template id="report_agreement_test">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o">
                <div class="page">

                    <!-- Header -->
                    <div class="row mb-2">
                        <div class="col-8">
                            <div style="font-size: 16px;">
                                <div class="mb-1"><strong>MOGEN CO., LTD. (HEAD OFFICE)</strong></div>
                                <div style="font-size: 14px;">9 Moo 12, Bueng Kham Phroi, Lam Luk Ka, Pathum Thani 12150</div>
                                <div style="font-size: 14px;">Tax ID: 0105547076103</div>
                                <div style="font-size: 14px;">Tel: 02 1509710 Fax: 02 1528803 E-mail: contact@mogen.co.th</div>
                            </div>
                        </div>
                        <div class="col-4 text-end">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" 
                                 style="width: 180px; height: auto; object-fit: contain;" alt="Company Logo"/>
                        </div>
                    </div>

                     <!-- Document Title -->
                     <div class="row mb-2">
                        <div class="col-12 text-center">
                             <h2 style="margin: 0; padding: 0; font-weight: bold; font-size: 20px; margin-top: 10px;">PURCHASE ORDER</h2>
                        </div>
                     </div>

                     <!-- Document Info -->
                     <div class="row mb-2">
                        <div class="col-8">
                            <p style="margin-bottom: 0; margin-top: 20px; font-size: 14px;">Please attach this purchase order when delivering goods and billing</p>
                        </div>
                        <div class="col-4">
                            <div class="text-end" style="font-size: 14px;">
                                <div>NO.: <strong><span t-field="o.name"/></strong></div>
                                <div>DATE: <strong><span t-field="o.ordering_date" t-options="{'widget': 'date', 'format': 'dd/MM/yyyy'}"/></strong></div>
                            </div>
                        </div>
                     </div>

<div style="border:1px solid #000; padding:16px; margin:16px 0;">
    <div style="display:flex; flex-direction:row;">
        <!-- Left 50% -->
        <div style="flex:1; border-right:1px solid #000; padding-right:12px;">
            <div>
                <strong>Vendor:</strong>
                <t t-if="hasattr(o, 'partner_id') and o.partner_id">
                    <span t-field="o.partner_id.display_name"/>
                  </t>
            </div>
            <div>
                <strong>Address:</strong>
                <t t-esc="o.partner_id.contact_address"/>
            </div>
        </div>
        <!-- Right 50% -->
        <div style="flex:1; padding-left:12px;">
            <!-- First row (split 60/40) -->
            <div style="display:flex; flex-direction:row; border-bottom:1px solid #000;">
                <div style="flex:6; padding-right:8px; border-right:1px solid #000;">
                    <div>
                        <strong>Place of Delivery:</strong> Mogen (Thailand) Co. Ltd<br/>
                        9 moo 12, Beungkhumproy, A. Lumlukka, Pathum Thani 12150
                    </div>
                </div>
                <div style="flex:4; padding-left:8px;">
                    <div>
                        <strong>Confirm order from supplier</strong><br/>
                        Date of: <span t-field="o.confirm_supplier_date" t-options="{'widget': 'date', 'format': 'dd/MM/yyyy'}"/>
                    </div>
                </div>
            </div>
            <!-- Second row (split 25/25/15/25) -->
            <div style="display:flex; flex-direction:row;">
                <div style="flex:25; padding:4px 8px; border-right:1px solid #000;">
                    <div>
                        <strong>Contact Person:</strong>
                        <t t-esc="o.partner_id.name"/>
                    </div>
                </div>
                <div style="flex:25; padding:4px 8px; border-right:1px solid #000;">
                    <div>
                        <strong>Payment Term:</strong>
                        <t t-esc="o.payment_term_id.name"/>
                    </div>
                </div>
                <div style="flex:15; padding:4px 8px; border-right:1px solid #000;">
                    <div>
                        <strong>Criteria:</strong>
                        <t t-esc="o.criteria or ''"/>
                    </div>
                </div>
                <div style="flex:25; padding:4px 8px;">
                    <div>
                        <strong>Ref. Number:</strong>
                        <t t-esc="o.ref_number or ''"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>                        




                </div>     
            </t>
        </t>
    </template>
                    

    <record id="action_report_agreement_test" model="ir.actions.report">
        <field name="name">Purchase Agreement </field>
        <field name="model">purchase.requisition</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">buz_custom_po.report_agreement_test</field>
        <field name="report_file">buz_custom_po.report_agreement_test</field>
        <field name="print_report_name">'Purchase Agreement - %s' % object.name</field>
        <field name="binding_model_id" ref="purchase_requisition.model_purchase_requisition"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="paperformat_agreement_test"/>
    </record>
</odoo>
